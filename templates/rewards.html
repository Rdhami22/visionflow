{% extends "base.html" %}
{% block title %}Rewards — VisionFlow{% endblock %}

{% block content %}
<h1>Your Rewards</h1>

<div class="card">
    <h2>Total Points</h2>

    <p style="font-size:2rem; color:#ffd9a3;">{{ user.points }} pts</p>

    <div class="progress-bar">
        <div class="progress-fill" style="width: {{ progress_percent }}%;"></div>
    </div>

    <p>{{ 100 - user.points }} points until next reward</p>

    {% if user.points >= 100 %}
    <form action="/rewards/claim" method="POST">
        <button class="btn btn-success">Claim Reward 🎉</button>
    </form>
    {% else %}
    <button class="btn" disabled style="opacity:0.5;">Not enough points</button>
    {% endif %}
</div>

<h2>Reward History</h2>

{% for r in rewards %}
<div class="task-item completed">
    <strong>{{ r.reward_text }}</strong><br>
    <small>{{ r.date_claimed }}</small>
</div>
{% endfor %}

{% endblock %}
